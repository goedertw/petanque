Petanque
-----------------

URL of the original repo is: https://SpecialDevOps@dev.azure.com/SpecialDevOps/ProjectWerk2/_git/ProjectWerk2
URL of the new, forked repo, owned by goedertw is: git@github.com:goedertw/petanque.git

-----------------

How to setup your git if you have 2 repo's?

    git clone git@github.com:goedertw/petanque.git
    cd petanque
    git remote add upstream https://SpecialDevOps@dev.azure.com/SpecialDevOps/ProjectWerk2/_git/ProjectWerk2

After the above:
    repo of goedertw is called: "origin"
    original repo of students is called: "upstream"
    (do "cat .git/config" to check the situation)

How to get changes from "upstream" into "origin"?

    git fetch upstream
    git merge upstream/master

-----------------

How to install necessary software and prepare for running PowerShell scripts?

Run in CMD:
    winget install Microsoft.DotNet.SDK.8
    winget install node.js
    cd petanquefrontend
    npm install

Open PowerShell as Administrator and run:
    Get-ExecutionPolicy
    Set-ExecutionPolicy RemoteSigned
    # if you have still problems when ExecutionPolicy is set to 'RemoteSigned', try 'Unrestricted'
    #Set-ExecutionPolicy Unrestricted

Download and install 'MySQL Server 8.4 (LTS)' from https://dev.mysql.com/downloads/mysql/
(install on port 3306 with user=root password=root)
or make sure you have access to a MySQL server.

-----------------

How to populate the DataBase with the correct tables?

First copy './manage-db/mysql.cfg.example1' to './manage-db/mysql.cfg'
and update the content if needed.

Open PowerShell (as normal user) and run:
    cd manage-db
    .\restore.ps1 0-empty-db.sql mysql.cfg

-----------------

Currently the connection string is hardcoded as "server=127.0.0.1;port=3306;database=petanque;user=root;password=root"
If you need something else, update following files:
    ./Petanque/Petanque.Api/appsettings.json
    ./Petanque/Petanque.Storage/Id312896PetanqueContext.cs
    (./manage-db/mysql.cfg)

-----------------

How to start the application?

Run in one CMD/PS-window:
    cd Petanque\Petanque.Api
    dotnet run

Run in another CMD/PS-window:
    cd petanquefrontend
    set VITE_API_URL=http://localhost:5251/api
    npm run dev
    # type 'o' + '<enter>' to open your browser at http://localhost:5173/

-----------------
